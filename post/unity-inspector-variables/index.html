<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Encapsulate Unity Inspector Variables - Clark Kromenaker</title>
<meta name=description content="When writing a Unity component, it&rsquo;s likely that you&rsquo;ll want to expose some variables in the Unity Editor&rsquo;s Inspector, so that either you or a designer can modify those values without having to recompile the script. However, the default method of exposing variables in the inspector can break class encapsulation in an undesirable way. This post explores ways to expose variables in the Inspector without sacrificing your class&rsquo;s encapsulation."><meta name=author content="Clark Kromenaker"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Clark Kromenaker","url":"https:\/\/clarkkromenaker.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/clarkkromenaker.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/clarkkromenaker.com\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/clarkkromenaker.com\/post\/unity-inspector-variables\/","name":"Encapsulate unity inspector variables"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Clark Kromenaker"},"headline":"Encapsulate Unity Inspector Variables","description":"When writing a Unity component, it\u0026rsquo;s likely that you\u0026rsquo;ll want to expose some variables in the Unity Editor\u0026rsquo;s Inspector, so that either you or a designer can modify those values without having to recompile the script. However, the default method of exposing variables in the inspector can break class encapsulation in an undesirable way. This post explores ways to expose variables in the Inspector without sacrificing your class\u0026rsquo;s encapsulation.\n","inLanguage":"en","wordCount":774,"datePublished":"2012-08-18T00:00:00","dateModified":"2012-08-18T00:00:00","image":"https:\/\/clarkkromenaker.com\/img\/avatar-icon.png","keywords":["Unity, C-Sharp"],"mainEntityOfPage":"https:\/\/clarkkromenaker.com\/post\/unity-inspector-variables\/","publisher":{"@type":"Organization","name":"https:\/\/clarkkromenaker.com\/","logo":{"@type":"ImageObject","url":"https:\/\/clarkkromenaker.com\/img\/avatar-icon.png","height":60,"width":60}}}</script><meta property="og:title" content="Encapsulate Unity Inspector Variables"><meta property="og:description" content="When writing a Unity component, it&rsquo;s likely that you&rsquo;ll want to expose some variables in the Unity Editor&rsquo;s Inspector, so that either you or a designer can modify those values without having to recompile the script. However, the default method of exposing variables in the inspector can break class encapsulation in an undesirable way. This post explores ways to expose variables in the Inspector without sacrificing your class&rsquo;s encapsulation."><meta property="og:image" content="https://clarkkromenaker.com/img/avatar-icon.png"><meta property="og:url" content="https://clarkkromenaker.com/post/unity-inspector-variables/"><meta property="og:type" content="website"><meta property="og:site_name" content="Clark Kromenaker"><meta name=twitter:title content="Encapsulate Unity Inspector Variables"><meta name=twitter:description content="When writing a Unity component, it&rsquo;s likely that you&rsquo;ll want to expose some variables in the Unity Editor&rsquo;s Inspector, so that either you or a designer can modify those values â€¦"><meta name=twitter:image content="https://clarkkromenaker.com/img/avatar-icon.png"><meta name=twitter:card content="summary_large_image"><link href=https://clarkkromenaker.com/img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.133.1"><link rel=alternate href=https://clarkkromenaker.com/index.xml type=application/rss+xml title="Clark Kromenaker"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://clarkkromenaker.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://clarkkromenaker.com/css/syntax.css><link rel=stylesheet href=https://clarkkromenaker.com/css/codeblock.css><link rel=stylesheet href=https://clarkkromenaker.com//css/portfolio.css><link rel=stylesheet href=https://clarkkromenaker.com//css/misc.css><link rel=stylesheet href=https://clarkkromenaker.com//css/overrides.css><script src=https://clarkkromenaker.com//js/darkModeToggle.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://clarkkromenaker.com/>Clark Kromenaker</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Blog href=/>Blog</a></li><li><a title=Portfolio href=/portfolio>Portfolio</a></li><li><a title=About href=/about>About</a></li><li><a title=Tags href=/tags>Tags</a></li><li class=navlinks-container id=dark-mode-toggle><a href=javascript:toggleColorScheme();><i id=icon-sun class="fas fa-sun"></i>
<i id=icon-moon class="fas fa-moon"></i></a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Clark Kromenaker" href=https://clarkkromenaker.com/><img class=avatar-img src=https://clarkkromenaker.com/img/avatar-icon.png alt="Clark Kromenaker"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Encapsulate Unity Inspector Variables</h1><span class=post-meta><i class=fas></i>Posted on August 18, 2012</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>When writing a Unity component, it&rsquo;s likely that you&rsquo;ll want to expose some variables in the Unity Editor&rsquo;s Inspector, so that either you or a designer can modify those values without having to recompile the script. However, the default method of exposing variables in the inspector can break class encapsulation in an undesirable way. This post explores ways to expose variables in the Inspector without sacrificing your class&rsquo;s encapsulation.</p><p>The most straightforward way to expose a variable in the Inspector is to simply make the variable public. In fact, Unity&rsquo;s
<a href=https://docs.unity3d.com/Manual/VariablesAndTheInspector.html target=_blank>Getting Started</a> docs explicitly state that this is the way to do it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=kt>float</span> <span class=n>someValue</span> <span class=p>=</span> <span class=m>10.0f</span><span class=p>;</span>
</span></span></code></pre></div><p>When you declare a public variable like this, it signals two important things to Unity. First, it indicates that the variable should be <strong>serialized</strong> - that is, the value of this variable is saved to disk and loaded from disk for different instances of the component. Second, Unity displays all serialized variables in the Inspector by default.</p><p>Unfortunately, there&rsquo;s a big problem with this &ldquo;public variable&rdquo; system: it ignores a critical programming concept called <em>encapsulation</em>.</p><h2 id=encapsulation>Encapsulation</h2><p><strong>Encapsulation</strong> is the idea that you should write &ldquo;shy&rdquo; classes. Shy classes don&rsquo;t expose themselves to others needlessly. A shy class will only expose one of its variables or functions as &ldquo;public&rdquo; if it absolutely must do so.</p><p>Writing &ldquo;shy&rdquo; code is one of your primary tools for limiting code complexity. As a programmer, I&rsquo;d argue that one of your top priorities should be to limit complexity. There are a couple rules I follow to keep my code shy:</p><ol><li><p>All class members should use the <code>private</code> access modifier, unless a compelling reason to use <code>protected</code> or <code>public</code> is found.</p></li><li><p><strong>Do not</strong> expose <code>public</code> variables. Instead access variables through Getter/Setter methods or Properties.</p></li></ol><p>To elaborate on #2 a bit, exposing a <code>public</code> variable is dangerous for a couple reasons. It means that any piece of code anywhere in your game can access the variable, and change it, and the class won&rsquo;t know that it was changed. If you want to do some other operation when the variable changes (like log to the console or ensure the value is valid), you can&rsquo;t.</p><p>It also violates the
<a href=https://en.wikipedia.org/wiki/Uniform_access_principle target=_blank>Uniform Access Principle</a>, which states that a caller shouldn&rsquo;t know whether data being accessed is stored or computed - direct variable access is obviously &ldquo;stored&rdquo; data!</p><p>So, we have a problem. Unity wants us to mark variables as public to indicate that they should be serialized. This, in turn, also causes Unity to display variables in the Inspector. However, exposing public variables breaks encapsulation, which, as responsible programmers, we&rsquo;d like to avoid.</p><h2 id=serializing-private-variables>Serializing Private Variables</h2><p>Fortunately, Unity has a solution to this problem. You can easily serialize a private variable by using the <code>[SerializeField]</code> attribute:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[SerializeField]</span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>float</span> <span class=n>myPrivateValue</span> <span class=p>=</span> <span class=m>10.0f</span><span class=p>;</span>
</span></span></code></pre></div><p>This will tell Unity to serialize the private field and show it in the Inspector.</p><p>If a variable should be serialized and exposed in the Inspector to designers, but not be exposed publicly in code, you should <strong>always</strong> do this!</p><h2 id=hiding-serialized-variables>Hiding Serialized Variables</h2><p>Unity will serialize any variable that is either public, or has the <code>[SerializeField]</code> attribute. Sometimes, you might NOT want a serialized field to appear in the Inspector. You can achieve this using the <code>[HideInInspector]</code> attribute.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[HideInInspector]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>float</span> <span class=n>dangerousPublicValue</span> <span class=p>=</span> <span class=m>10.0f</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>[SerializeField]</span><span class=p>[</span><span class=n>HideInInspector</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>int</span> <span class=n>serializedButHiddenPrivateVariable</span> <span class=p>=</span> <span class=m>42</span><span class=p>;</span>
</span></span></code></pre></div><p>The <code>[HideInInspector]</code> attribute stops a serialized variable from appearing in the Inspector. So, you can apply it to a public variable (which is serialized by default) or a private variable with the <code>[SerializeField]</code> attribute.</p><h2 id=dont-serialize-public-variables>Don&rsquo;t Serialize Public Variables</h2><p>Finally, you might have a public variable that you don&rsquo;t want Unity to automatically serialize. In that scenario, you can do this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[System.NonSerialized]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>float</span> <span class=n>someValue</span> <span class=p>=</span> <span class=m>10.0f</span><span class=p>;</span>
</span></span></code></pre></div><p>The <code>[System.NonSerialized]</code> attribute stops the variable from being serialized, which in turn also stops it from being displaying in the Inspector.</p><h2 id=conclusion>Conclusion</h2><p>Note that the various combinations of access modifiers and attributes cover all the use-cases for variables in relation to encapsulation and serialization:</p><table><thead><tr><th>Serialize?</th><th>Show in Inspector?</th><th>Public In Code?</th><th>Solution</th></tr></thead><tbody><tr><td>Yes</td><td>Yes</td><td>Yes</td><td>Public Variable</td></tr><tr><td>Yes</td><td>Yes</td><td>No</td><td>Private Variable & <code>[SerializeField]</code></td></tr><tr><td>Yes</td><td>No</td><td>Yes</td><td>Public Variable & <code>[HideInInspector]</code></td></tr><tr><td>Yes</td><td>No</td><td>No</td><td>Private Variable & <code>[SerializeField]</code> & <code>[HideInInspector]</code></td></tr><tr><td>No</td><td>No</td><td>Yes</td><td>Public Variable & <code>[System.NonSerialized]</code></td></tr><tr><td>No</td><td>No</td><td>No</td><td>Private Variable</td></tr></tbody></table><hr><p>When designing components in Unity, it&rsquo;s important to ask yourself which variables need to be serialized, which need to be exposed in the Inspector for tweaking, and which should be publicly available in code <em>(hint: not many)</em>.</p><p>Based on your needs, there is a combination of access modifiers and attributes to get you exactly what you need!</p><div class=blog-tags><a href=https://clarkkromenaker.com//tags/unity/>Unity</a>&nbsp;
<a href=https://clarkkromenaker.com//tags/c-sharp/>C-Sharp</a>&nbsp;</div></article><ul class="pager blog-pager"><li class=next><a href=https://clarkkromenaker.com/post/unity-monobehaviour-usage/ data-toggle=tooltip data-placement=top title="When to Inherit from MonoBehaviour">Next Post &rarr;</a></li></ul><div class=disqus-comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//clarkkromenaker.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:kromenak@gmail.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/kromenak title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/clarkkromenaker title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Clark Kromenaker
&nbsp;&bull;&nbsp;&copy;
2024</p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Powered by Hugo v0.133.1</a> &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-3.5.1.slim.min.js integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://clarkkromenaker.com/js/main.js></script><script>renderMathInElement(document.body)</script></body></html>